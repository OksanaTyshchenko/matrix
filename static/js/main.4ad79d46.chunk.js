(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{27:function(t,e,n){},29:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(7),u=n.n(o),a=n(4),s=(n(27),n(28),n(3)),i=n(34),l=(n(29),n(6)),b=n(2),j=n(11),d=n(15),m="UPDATE_XARR",x="ADD_XARR",O="DELETE_ROW",f="ADD_ROW",h="ADD_COUNT_CLOSEST",p=function(t){return{type:x,xArr:t}},_=function(t,e){return{type:m,rowIndex:t,colIndex:e}},v=function(t){return{type:O,rowIndex:t}},M=function(t){return{type:f,row:t}},A=function(t){return{type:h,count:t}},g=function(t){return t.xArr},y=function(t){return t.countClosest},N={xArr:[],countClosest:0},w=Object(j.legacy_createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return Object(b.a)(Object(b.a)({},t),{},{xArr:e.xArr});case m:var n=Object(b.a)({},t.xArr[e.rowIndex][e.colIndex]);n.amount+=1;var r=Object(l.a)(t.xArr);return r[e.rowIndex][e.colIndex]=n,Object(b.a)(Object(b.a)({},t),{},{xArr:r});case O:return Object(b.a)(Object(b.a)({},t),{},{xArr:t.xArr.filter((function(t,n){return n!==e.rowIndex}))});case f:return Object(b.a)(Object(b.a)({},t),{},{xArr:[].concat(Object(l.a)(t.xArr),[e.row])});case h:return Object(b.a)(Object(b.a)({},t),{},{countClosest:e.count});default:return t}}),Object(d.composeWithDevTools)()),C=n(1),F=function(){var t=Object(r.useState)(0),e=Object(s.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)(0),u=Object(s.a)(o,2),l=u[0],b=u[1],j=Object(r.useState)(0),d=Object(s.a)(j,2),m=d[0],x=d[1],O=Object(a.b)();return Object(C.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=Array.from({length:n},(function(){return Array.from({length:l},(function(){return{id:Object(i.a)(),amount:Math.ceil(1e3*Math.random())}}))}));O(p(e)),O(A(m)),c(0),b(0),x(0)},className:"box Form",children:[Object(C.jsxs)("label",{htmlFor:"rows",className:"label",children:["Count of rows:",Object(C.jsx)("input",{type:"number",min:0,max:100,id:"rows",value:n,onChange:function(t){return c(+t.target.value)},className:"Form__input"})]}),Object(C.jsxs)("label",{htmlFor:"columns",className:"label",children:["Count of columns:",Object(C.jsx)("input",{type:"number",min:0,max:100,id:"columns",value:l,onChange:function(t){return b(+t.target.value)},className:"Form__input"})]}),Object(C.jsxs)("label",{htmlFor:"close",className:"label",children:["Count of close numbers:",Object(C.jsx)("input",{type:"number",min:0,max:100,id:"close",value:m,onChange:function(t){return x(+t.target.value)},className:"Form__input"})]}),Object(C.jsx)("button",{type:"submit",className:"button is-info Form__button",children:"Create matrix"})]})},D=n(16),S=n.n(D),I=(n(31),function(){var t,e=Object(a.c)(g),n=Object(r.useState)(null),c=Object(s.a)(n,2),o=c[0],u=c[1],l=Object(r.useState)(null),b=Object(s.a)(l,2),j=b[0],d=b[1],m=Object(a.c)(y),x=Object(a.b)(),O=Array.from({length:null===(t=e[0])||void 0===t?void 0:t.length},(function(t,n){return Math.round(e.reduce((function(t,e){return t+e[n].amount}),0)/e.length)})),f=function(t){return t.reduce((function(t,e){return t+e.amount}),0)},h=function(t,e){return(t/f(e)*100).toFixed(1)},p=function(t){u(t)},A=function(t){d(t),u(null)},N=null===o||void 0===o?void 0:o.amount,w=e.flat(),F=N?w.sort((function(t,e){return Math.abs(t.amount-N)-Math.abs(e.amount-N)})):null,D=null===F||void 0===F?void 0:F.slice(1,m+1),I=function(t){return!!D&&!!D.find((function(e){return e.amount===t.amount}))};return Object(C.jsxs)("div",{className:"wrapper",children:[Object(C.jsx)("table",{className:"Matrix",onMouseLeave:function(){u(null)},children:Object(C.jsxs)("tbody",{children:[e.map((function(t,e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return x(v(e))},className:"Matrix__button Matrix__delete",children:"\ud83d\uddd1"})}),t.map((function(n,r){return Object(C.jsx)("td",{children:Object(C.jsx)("button",{type:"button",onClick:function(){x(_(e,r))},onMouseOver:function(){return p(n)},onFocus:function(){return p(n)},className:S()("Matrix__button",{Matrix__relatedButton:I(n),Matrix__selectedButton:n.id===(null===o||void 0===o?void 0:o.id),Matrix__buttonPercent:j===e}),children:j===e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"".concat(h(n.amount,t),"%")}),Object(C.jsx)("div",{style:{height:"".concat(h(n.amount,t),"%")},className:"Matrix__part"})]}):Object(C.jsx)("span",{children:n.amount})})},n.id)})),Object(C.jsx)("td",{className:"Matrix__selected Matrix__sum",onFocus:function(){return A(e)},onMouseOver:function(){return A(e)},onMouseLeave:function(){return d(null)},children:f(t)})]},Object(i.a)())})),Object(C.jsxs)("tr",{children:[e.length>0&&Object(C.jsx)("td",{}),O.map((function(t){return Object(C.jsx)("td",{className:"Matrix__selected",children:t},Object(i.a)())})),e.length>0&&Object(C.jsx)("td",{className:"Matrix__selected",children:"avg/sum"})]})]})}),e.length>0&&Object(C.jsx)("button",{type:"button",className:"button is-info Matrix__addButton",onClick:function(){var t,n=Array.from({length:null===(t=e[0])||void 0===t?void 0:t.length},(function(){return{id:Object(i.a)(),amount:Math.ceil(1e3*Math.random())}}));x(M(n))},children:"Add row"})]})}),k=(n(32),function(){return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(F,{}),Object(C.jsx)(I,{})]})});u.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(a.a,{store:w,children:Object(C.jsx)(k,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4ad79d46.chunk.js.map